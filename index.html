<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ピクセルの王国と最後の塔</title>
  <link href="https://fonts.googleapis.com/css2?family=DotGothic16&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="game-container">
    <canvas id="game-canvas" width="480" height="416"></canvas>
    
    <!-- UI Overlay -->
    <div id="ui-overlay">
      <div id="map-info">
        <span id="map-name"></span>
      </div>
      
      <div id="top-right-controls">
        <button id="btn-menu" class="ui-btn">MENU</button>
      </div>
    </div>
    
    <!-- Dialogue Box -->
    <div id="dialogue-box" class="ui-window hidden">
      <div id="dialogue-speaker"></div>
      <div id="dialogue-text"></div>
      <div class="dialogue-hint">▼ クリック or Enter で次へ</div>
    </div>
    
    <!-- Map Screen -->
    <div id="map-screen" class="screen active"></div>
    
    <!-- Battle Screen -->
    <div id="battle-screen" class="screen hidden">
      <div class="battle-ui">
        <div class="enemy-area">
          <div id="enemy-sprite"></div>
          <div class="enemy-info">
            <span id="enemy-name"></span>
            <div class="hp-bar enemy-hp"><div class="hp-fill"></div></div>
          </div>
        </div>
        <div class="hero-area">
          <div class="hero-info">
            <div class="hero-stats">
              <p>HP: <span id="hero-hp-text"></span></p>
              <p>MP: <span id="hero-mp-text"></span></p>
            </div>
            <div class="hp-bar hero-hp"><div class="hp-fill"></div></div>
            <div class="mp-bar"><div class="mp-fill"></div></div>
          </div>
          <div class="battle-commands">
            <button class="battle-cmd ui-btn" data-cmd="attack">たたかう</button>
            <button class="battle-cmd ui-btn" data-cmd="skill">とくぎ</button>
            <button class="battle-cmd ui-btn" data-cmd="item">アイテム</button>
            <button class="battle-cmd ui-btn" data-cmd="defend">ぼうぎょ</button>
          </div>
        </div>
        <div id="battle-message" class="battle-message-box"></div>
        <div id="battle-effect" class="battle-effect"></div>
      </div>
    </div>
    
    <!-- Menu Screen -->
    <div id="menu-screen" class="screen hidden">
      <div class="menu-window ui-window">
        <h2 class="window-title">メニュー</h2>
        <div class="menu-content">
          <ul class="menu-items">
            <li><button class="menu-item ui-btn active" data-menu="status">ステータス</button></li>
            <li><button class="menu-item ui-btn" data-menu="party">パーティ</button></li>
            <li><button class="menu-item ui-btn" data-menu="item">アイテム</button></li>
            <li><button class="menu-item ui-btn" data-menu="quest">クエスト</button></li>
            <li><button class="menu-item ui-btn" data-menu="equip">そうび</button></li>
            <li><button class="menu-item ui-btn" data-menu="close">とじる</button></li>
          </ul>
          <div class="menu-views">
            <!-- Status View -->
            <div id="status-view" class="menu-view active">
              <div class="hero-portrait"></div>
              <p>レベル: <span id="stat-level"></span></p>
              <p>HP: <span id="stat-hp"></span>/<span id="stat-maxhp"></span></p>
              <p>MP: <span id="stat-mp"></span>/<span id="stat-maxmp"></span></p>
              <p>攻撃力: <span id="stat-atk"></span></p>
              <p>防御力: <span id="stat-def"></span></p>
              <p>素早さ: <span id="stat-spd"></span></p>
              <p>経験値: <span id="stat-exp"></span></p>
              <p>ゴールド: <span id="stat-gold"></span>G</p>
            </div>
            
            <!-- Party View -->
            <div id="party-view" class="menu-view">
              <h3>パーティメンバー</h3>
              <ul id="party-list"></ul>
            </div>
            
            <!-- Item View -->
            <div id="item-view" class="menu-view">
              <h3>アイテム一覧</h3>
              <ul id="item-list"></ul>
              <p class="item-hint">クリックで使用</p>
            </div>
            
            <!-- Quest View -->
            <div id="quest-view" class="menu-view">
              <h3>進行中のクエスト</h3>
              <ul id="quest-list"></ul>
            </div>
            
            <!-- Equipment View -->
            <div id="equip-view" class="menu-view">
              <h3>装備</h3>
              <p>武器: <span id="equip-weapon"></span></p>
              <p>防具: <span id="equip-armor"></span></p>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Game Over Screen -->
    <div id="gameover-screen" class="screen hidden">
      <div class="gameover-window ui-window">
        <h2 class="window-title">GAME OVER</h2>
        <p>勇者は倒れた…</p>
        <button id="btn-retry" class="ui-btn">もう一度</button>
      </div>
    </div>
    
    <!-- Ending Screen -->
    <div id="ending-screen" class="screen hidden">
      <div class="ending-window ui-window">
        <h2 id="ending-title" class="window-title"></h2>
        <div class="ending-art"></div>
        <p id="ending-text"></p>
        <button id="btn-title" class="ui-btn">タイトルへ</button>
      </div>
    </div>
  </div>
  
  <script src="data.js"></script>
  <script src="sprites.js"></script>
  <script src="audio.js"></script>
  <script src="game.js"></script>
</body>
</html>
